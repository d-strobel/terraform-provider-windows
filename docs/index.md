---
page_title: "Windows Provider"
subcategory: ""
description: |-
  The windows provider is used to interact remotely via winrm or ssh with a windows system
---
# Windows Provider

<!-- provider description generated from schema -->
The windows provider is used to interact remotely via winrm or ssh with a windows system.

**Disclaimer**:
Due to the limitations of the terraform-plugin-framework some attributes are listed as optionals even though a combination of certain parameters are required.
Check examples below for reference.

<!-- examples generated from template and example files -->
## Example Usage

There are several ways to authenticate to a windows system.

### WinRM - Password authentication
```terraform
provider "windows" {
  endpoint = "127.0.0.1"

  winrm = {
    username = "vagrant"
    password = "vagrant"
    port     = 15985
  }
}
```

### WinRM - Kerberos authentication
```terraform
// Example with a local vagrant machine via WinRM
provider "windows" {
  endpoint = "127.0.0.1"

  winrm = {
    username = "vagrant"
    port     = 15985
  }

  kerberos = {
    realm           = "example.local"
    krb_config_file = "/path/to/krb5.conf"
  }
}
```

### SSH - Password authentication
```terraform
provider "windows" {
  endpoint = "127.0.0.1"

  ssh = {
    username = "vagrant"
    password = "vagrant"
    port     = 1222
  }
}
```

### SSH - PublicKey authentication
```terraform
provider "windows" {
  endpoint = "127.0.0.1"

  ssh = {
    username    = "vagrant"
    port        = 1222
    private_key = <<EOT
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW
QyNTUxOQAAACCNKqLkDaaa4KGp+xaT0X94XVxGiwG6RHsymEc9/m39hwAAAJjpeDkr6Xg5
KwAAAAtzc2gtZWQyNTUxOQAAACCNKqLkDaaa4KGp+xaT0X94XVxGiwG6RHsymEc9/m39hw
AAAEAMT15+Ut2N+m9HW9wXgIeVR+qKeoT3UlVCxxnPsnoA5o0qouQNpprgoan7FpPRf3hd
XEaLAbpEezKYRz3+bf2HAAAAD2RzdHJvYmVsQE5CMDc4NAECAwQFBg==
-----END OPENSSH PRIVATE KEY-----
EOT
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `endpoint` (String) Define the hostname or ip-address of the target Windows system.

### Optional

- `kerberos` (Attributes) Define the Kerberos connection parameters. Currently this can only be combined with a WinRM connection. (see [below for nested schema](#nestedatt--kerberos))
- `ssh` (Attributes) Define the SSH connection parameters. Exactly one of 'winrm' or 'ssh' must be set for the provider to connect to a Windows target system. Define an empty 'ssh' attribute if you wish to use the environment variables. (see [below for nested schema](#nestedatt--ssh))
- `winrm` (Attributes) Define the WinRM connection parameters. Exactly one of 'winrm' or 'ssh' must be set for the provider to connect to a Windows target system. Define an empty 'winrm' attribute if you wish to use the environment variables. (see [below for nested schema](#nestedatt--winrm))

<a id="nestedatt--kerberos"></a>
### Nested Schema for `kerberos`

Optional:

- `krb_config_file` (String) (Env: `WIN_KRB_CONFIG_FILE`)<br>Define the path to the kerberos configuration file. Required if kerberos is set.
- `realm` (String) (Env: `WIN_KRB_REALM`)<br>Define the Kerberos realm. Required if kerberos is set.


<a id="nestedatt--ssh"></a>
### Nested Schema for `ssh`

Optional:

- `insecure` (Boolean) (Env: `WIN_SSH_INSECURE`) (Default: `false`)<br>Accept insecure SSH connections. This includes e.g. the acceptance of unknown or changed host keys.
- `known_hosts_path` (String) (Env: `WIN_SSH_KNOWN_HOSTS_PATH`)<br>Define the path to the known hosts file to connect with the target Windows system.
- `password` (String, Sensitive) (Env: `WIN_SSH_PASSWORD`)<br>Define the password to connect with the target Windows system. Exactly one of 'password', 'private_key' or 'private_key_path' is required if ssh is set.
- `port` (Number) (Env: `WIN_SSH_PORT`) (Default: `22`)<br>Define the port to connect with the target Windows system.
- `private_key` (String, Sensitive) (Env: `WIN_SSH_PRIVATE_KEY`)<br>Define the private key to connect with the target Windows system. Exactly one of 'password', 'private_key' or 'private_key_path' is required if ssh is set.
- `private_key_path` (String) (Env: `WIN_SSH_PRIVATE_KEY_PATH`)<br>Define the path to the private key file to connect with the target Windows system. Exactly one of 'password', 'private_key' or 'private_key_path' is required if ssh is set.
- `username` (String) (Env: `WIN_SSH_USERNAME`)<br>Define the username to connect with the target Windows system. Required if ssh is set.


<a id="nestedatt--winrm"></a>
### Nested Schema for `winrm`

Optional:

- `insecure` (Boolean) (Env: `WIN_WINRM_INSECURE`) (Default: `false`)<br>Accept insecure WinRM connection. This includes e.g. the acceptance of untrusted certificates.
- `password` (String, Sensitive) (Env: `WIN_WINRM_PASSWORD`)<br>Define the password to connect with the target Windows system. Required if winrm is set.
- `port` (Number) (Env: `WIN_WINRM_PORT`) (Default: `5986`)<br>Define the port to connect with the target Windows system.
- `timeout` (Number) (Env: `WIN_WINRM_TIMEOUT`) (Default: `0`)<br>Define the connection timeout in minutes for the target Windows system.
- `use_tls` (Boolean) (Env: `WIN_WINRM_USE_TLS`) (Default: `true`)<br>Define if TLS (https) should be used to connect with the target Windows system.
- `username` (String) (Env: `WIN_WINRM_USERNAME`)<br>Define the username to connect with the target Windows system. Required if winrm is set.



